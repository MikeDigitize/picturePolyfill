/*! picturePolyfill - v3.0.0 - 2014-03-23
* https://github.com/verlok/picturePolyfill/
* Copyright (c) 2014 Andrea "verlok" Verlicchi; Licensed MIT */
var picturePolyfill=function(a){"use strict";function b(){var a=document.createElement("img"),b=document.getElementsByTagName("picture")[0];try{return b&&(b.appendChild(a),b.removeChild(a)),!0}catch(c){return!1}}function c(a,b,c){var d=document.createElement("img");d.setAttribute("alt",c),d.setAttribute("src",b),a.appendChild(d)}function d(a,b,d){var e=document.createElement("picture");c(e,b,d),a.parentNode.replaceChild(e,a)}var e,f,g;return{_pixelRatio:a.devicePixelRatio?Math.ceil(a.devicePixelRatio):1,_areMediaQueriesSupported:a.matchMedia&&null!==a.matchMedia("only all")&&a.matchMedia("only all").matches,_isAppendImageSupported:b(),isNecessary:!a.HTMLPictureElement,_getSrcsetHash:function(a){for(var b,c,d,e={},f=a.split(","),g=0,h=f.length;h>g;g+=1)b=f[g].trim().split(" "),d=b[1]?b[1].trim():"1x",c=b[0].trim(),e[d]=c;return e},_getSrcFromSrcsetArray:function(a,b){var c;do c=a[b+"x"],b-=1;while(void 0===c&&b>0);return c},_getSrcAttributeFromSourcesData:function(b){for(var c,d=0,e=b.length;e>d;d+=1){var f=b[d],g=f.media,h=f.srcset;(!g||a.matchMedia(g).matches)&&(c=h?this._getSrcFromSrcsetArray(h,picturePolyfill._pixelRatio):f.src)}return c},_createOrUpdateImage:function(a,b){var e,f,g=a.getElementsByTagName("img");e=picturePolyfill._areMediaQueriesSupported&&b.length?picturePolyfill._getSrcAttributeFromSourcesData(b):a.getAttribute("data-default-src"),g.length?g[0].setAttribute("src",e):(f=a.getAttribute("data-alt"),picturePolyfill._isAppendImageSupported?c(a,e,f):d(a,e,f))},_parseSources:function(a){for(var b=[],c=a.getElementsByTagName("source"),d=0,e=c.length;e>d;d+=1){var f=c[d],g=f.getAttribute("srcset");b.push({media:f.getAttribute("media"),src:f.getAttribute("src"),srcset:g?picturePolyfill._getSrcsetHash(g):null})}return b},parsePictures:function(a){for(var b,c,d=a.getElementsByTagName("picture"),e=0,h=d.length;h>e;e+=1)c=d[e],b=f[c.getAttribute("data-cache-index")],b||(b=picturePolyfill._parseSources(c),f[g]=b,c.setAttribute("data-cache-index",g),g+=1),picturePolyfill._createOrUpdateImage(c,b)},initialize:function(){function b(){picturePolyfill.parsePictures(document)}f=[],g=0,a.addEventListener?(a.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(b,100)}),a.addEventListener("DOMContentLoaded",function(){picturePolyfill.parsePictures(document),a.removeEventListener("load",b)}),a.addEventListener("load",b)):a.attachEvent&&a.attachEvent("onload",b)}}}(window);picturePolyfill.isNecessary&&picturePolyfill.initialize();